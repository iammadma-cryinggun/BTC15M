# æŠ•ç¥¨ç³»ç»ŸæŒ‡æ ‡æ£€æŸ¥æŠ¥å‘Š

## ğŸ“Š å·²æ¿€æ´»çš„ 18 ä¸ªè§„åˆ™æ£€æŸ¥

### âœ… 1. è¶…çŸ­åŠ¨é‡è§„åˆ™ï¼ˆ3ä¸ªï¼‰- Momentum 30s/60s/120s
**è®¡ç®—é€»è¾‘**ï¼š
```python
momentum_pct = oracle.get(f'momentum_{period}s', 0.0)
threshold = 0.2  # 0.2% é˜ˆå€¼
confidence = min(abs(momentum_pct) / 3.0, 0.99)
```
**é—®é¢˜**ï¼š
- âœ… é€»è¾‘æ­£ç¡®ï¼šä» oracle è¯»å–å¸å®‰çœŸå®æ•°æ®
- âœ… é˜ˆå€¼åˆç†ï¼š0.2% é€‚åˆè¶…çŸ­å‘¨æœŸ
- âœ… ç½®ä¿¡åº¦è®¡ç®—ï¼šçº¿æ€§æ˜ å°„ï¼Œ3% ä¸ºæ»¡åˆ†

---

### âœ… 2. ä»·æ ¼åŠ¨é‡è§„åˆ™ - Price Momentum
**è®¡ç®—é€»è¾‘**ï¼š
```python
recent = price_history[-10:]
momentum_pct = (recent[-1] - recent[0]) / recent[0] * 100
threshold = 1.0  # 1% é˜ˆå€¼
confidence = min(abs(momentum_pct) / 5.0, 0.99)
```
**é—®é¢˜**ï¼š
- âœ… é€»è¾‘æ­£ç¡®ï¼š10 å‘¨æœŸåŠ¨é‡
- âœ… é˜ˆå€¼åˆç†ï¼š1% é€‚åˆæ ‡å‡†åŠ¨é‡
- âœ… ç½®ä¿¡åº¦è®¡ç®—ï¼š5% ä¸ºæ»¡åˆ†

---

### âœ… 3. RSI è§„åˆ™
**è®¡ç®—é€»è¾‘**ï¼š
```python
if rsi > 60:
    direction = 'SHORT'
    confidence = (rsi - 60) / 40.0  # 60â†’0%, 100â†’100%
elif rsi < 40:
    direction = 'LONG'
    confidence = (40 - rsi) / 40.0  # 40â†’0%, 0â†’100%
```
**é—®é¢˜**ï¼š
- âœ… é€»è¾‘æ­£ç¡®ï¼šè¶…ä¹°åšç©ºï¼Œè¶…å–åšå¤š
- âœ… é˜ˆå€¼åˆç†ï¼š60/40 æ˜¯å¸¸ç”¨é˜ˆå€¼
- âœ… ç½®ä¿¡åº¦è®¡ç®—ï¼šçº¿æ€§æ˜ å°„

---

### âœ… 4. VWAP è§„åˆ™
**è®¡ç®—é€»è¾‘**ï¼š
```python
vwap_dist_pct = ((price - vwap) / vwap * 100)
threshold = 0.5  # 0.5% é˜ˆå€¼
confidence = min(abs(vwap_dist_pct) / 2.0, 0.99)
```
**é—®é¢˜**ï¼š
- âœ… é€»è¾‘æ­£ç¡®ï¼šé«˜äº VWAP åšç©ºï¼Œä½äºåšå¤š
- âœ… é˜ˆå€¼åˆç†ï¼š0.5% é€‚åˆçŸ­å‘¨æœŸ
- âœ… ç½®ä¿¡åº¦è®¡ç®—ï¼š2% ä¸ºæ»¡åˆ†

---

### âœ… 5. è¶‹åŠ¿å¼ºåº¦è§„åˆ™ - Trend Strength
**è®¡ç®—é€»è¾‘**ï¼š
```python
recent = price_history[-3:]
trend_pct = (recent[-1] - recent[0]) / recent[0] * 100
threshold = 0.5  # 0.5% é˜ˆå€¼
confidence = min(abs(trend_pct) / 3.0, 0.99)
```
**é—®é¢˜**ï¼š
- âœ… é€»è¾‘æ­£ç¡®ï¼š3 å‘¨æœŸè¶‹åŠ¿
- âœ… é˜ˆå€¼åˆç†ï¼š0.5% é€‚åˆçŸ­å‘¨æœŸ
- âœ… ç½®ä¿¡åº¦è®¡ç®—ï¼š3% ä¸ºæ»¡åˆ†

---

### âœ… 6-7. Oracle CVD è§„åˆ™ï¼ˆ2ä¸ªï¼‰- 5m/1m CVD
**è®¡ç®—é€»è¾‘**ï¼š
```python
# 5m CVD
cvd_value = oracle.get('cvd_5m', 0.0)
threshold = 50000
max_score = 150000
confidence = min(abs(cvd_value) / max_score, 0.99)

# 1m CVD
cvd_value = oracle.get('cvd_1m', 0.0)
threshold = 20000
max_score = 50000
confidence = min(abs(cvd_value) / max_score, 0.99)
```
**é—®é¢˜**ï¼š
- âœ… é€»è¾‘æ­£ç¡®ï¼šCVD > 0 åšå¤šï¼Œ< 0 åšç©º
- âœ… é˜ˆå€¼åˆç†ï¼š5m éœ€è¦ 50kï¼Œ1m éœ€è¦ 20k
- âœ… ç½®ä¿¡åº¦è®¡ç®—ï¼šçº¿æ€§æ˜ å°„åˆ°æœ€å¤§å€¼

---

### âœ… 8. UT Bot è¶‹åŠ¿è§„åˆ™
**è®¡ç®—é€»è¾‘**ï¼š
```python
trend = oracle.get('ut_hull_trend', 'NEUTRAL')
if trend == 'NEUTRAL':
    return None
confidence = 0.70  # å›ºå®šç½®ä¿¡åº¦
```
**é—®é¢˜**ï¼š
- âœ… é€»è¾‘æ­£ç¡®ï¼šç›´æ¥ä½¿ç”¨ oracle çš„è¶‹åŠ¿åˆ¤æ–­
- âœ… ç½®ä¿¡åº¦åˆç†ï¼š70% å›ºå®šç½®ä¿¡åº¦

---

### âš ï¸ 9. Session Memory è§„åˆ™
**è®¡ç®—é€»è¾‘**ï¼š
```python
features = self.session_memory.extract_session_features(market_features)
prior_bias, _ = self.session_memory.calculate_prior_bias(features)
threshold = 0.3
confidence = min(abs(prior_bias), 0.99)
```
**é—®é¢˜**ï¼š
- âš ï¸ **ä¾èµ–å¤–éƒ¨æ¨¡å—**ï¼šéœ€è¦ `session_memory` å¯¹è±¡
- âš ï¸ **å¯èƒ½å¤±è´¥**ï¼šå¦‚æœ session_memory æœªåˆå§‹åŒ–ï¼Œè¿”å› None
- âœ… é€»è¾‘æ­£ç¡®ï¼šåŸºäºå†å²å…ˆéªŒåå·®

---

### âš ï¸ 10. åŠ¨é‡åŠ é€Ÿåº¦è§„åˆ™ - Momentum Acceleration
**è®¡ç®—é€»è¾‘**ï¼š
```python
mom_30 = oracle.get('momentum_30s', 0.0)
mom_60 = oracle.get('momentum_60s', 0.0)
mom_120 = oracle.get('momentum_120s', 0.0)

accel_1 = (mom_60 - mom_30) / 30.0
accel_2 = (mom_120 - mom_60) / 60.0
acceleration = (accel_1 + accel_2) / 2.0

threshold = 0.05
confidence = min(abs(acceleration) / 0.5, 0.99)
```
**é—®é¢˜**ï¼š
- âš ï¸ **è®¡ç®—æœ‰è¯¯**ï¼šé™¤ä»¥æ—¶é—´å·®ï¼ˆ30/60ï¼‰ä¸åˆç†
- âš ï¸ **åº”è¯¥æ˜¯**ï¼š`(mom_60 - mom_30)` ç›´æ¥æ¯”è¾ƒï¼Œä¸é™¤ä»¥æ—¶é—´
- âš ï¸ **å»ºè®®ä¿®å¤**ï¼š
```python
accel_1 = mom_60 - mom_30  # 60sç›¸å¯¹äº30sçš„å˜åŒ–
accel_2 = mom_120 - mom_60  # 120sç›¸å¯¹äº60sçš„å˜åŒ–
acceleration = (accel_1 + accel_2) / 2.0
```

---

### âš ï¸ 11. MACD æŸ±çŠ¶å›¾è§„åˆ™
**è®¡ç®—é€»è¾‘**ï¼š
```python
ema_fast = self._calculate_ema(price_history, 12)
ema_slow = self._calculate_ema(price_history, 26)
macd_line = ema_fast - ema_slow
signal_line = macd_line * 0.8  # âš ï¸ ç®€åŒ–ä¼°è®¡
histogram = macd_line - signal_line
```
**é—®é¢˜**ï¼š
- âš ï¸ **ä¿¡å·çº¿è®¡ç®—é”™è¯¯**ï¼š`signal_line = macd_line * 0.8` æ˜¯é”™è¯¯çš„ç®€åŒ–
- âš ï¸ **åº”è¯¥æ˜¯**ï¼šä¿¡å·çº¿æ˜¯ MACD çº¿çš„ 9 å‘¨æœŸ EMA
- âš ï¸ **å»ºè®®ä¿®å¤**ï¼šéœ€è¦ä¿å­˜å†å² MACD å€¼ï¼Œè®¡ç®— 9 å‘¨æœŸ EMA
- âš ï¸ **æˆ–è€…**ï¼šç›´æ¥ä½¿ç”¨ MACD çº¿ï¼ˆä¸è®¡ç®—æŸ±çŠ¶å›¾ï¼‰

---

### âœ… 12. EMA äº¤å‰è§„åˆ™
**è®¡ç®—é€»è¾‘**ï¼š
```python
ema_fast = self._calculate_ema(price_history, 9)
ema_slow = self._calculate_ema(price_history, 21)
ema_diff = ema_fast - ema_slow
ema_diff_pct = (ema_diff / price) * 100
threshold = 0.1
confidence = min(abs(ema_diff_pct) / 1.0, 0.99)
```
**é—®é¢˜**ï¼š
- âœ… é€»è¾‘æ­£ç¡®ï¼šå¿«çº¿ > æ…¢çº¿åšå¤š
- âœ… é˜ˆå€¼åˆç†ï¼š0.1% é˜ˆå€¼
- âœ… ç½®ä¿¡åº¦è®¡ç®—ï¼š1% ä¸ºæ»¡åˆ†

---

### âš ï¸ 13. æ³¢åŠ¨ç‡åˆ¶åº¦è§„åˆ™ - Volatility Regime
**è®¡ç®—é€»è¾‘**ï¼š
```python
returns = [(price_history[i] - price_history[i-1]) / price_history[i-1] for i in range(1, len(price_history))]
mean_ret = sum(returns) / len(returns)
variance = sum((r - mean_ret) ** 2 for r in returns) / len(returns)
volatility = math.sqrt(variance)

recent_returns = returns[-5:]
momentum = sum(recent_returns) / len(recent_returns)

direction = 'LONG' if momentum > 0 else 'SHORT'
confidence = min(volatility / 0.02, 0.99)
```
**é—®é¢˜**ï¼š
- âš ï¸ **é€»è¾‘æ··ä¹±**ï¼šæ³¢åŠ¨ç‡é«˜ â†’ ç½®ä¿¡åº¦é«˜ï¼Œä½†æ–¹å‘åŸºäºåŠ¨é‡
- âš ï¸ **åº”è¯¥æ˜¯**ï¼šæ³¢åŠ¨ç‡åªæ˜¯è¾…åŠ©ï¼Œä¸»è¦çœ‹åŠ¨é‡æ–¹å‘
- âœ… æ³¢åŠ¨ç‡è®¡ç®—æ­£ç¡®

---

### âœ… 14. Delta Z-Score è§„åˆ™
**è®¡ç®—é€»è¾‘**ï¼š
```python
cvd_5m = oracle.get('cvd_5m', 0.0)
cvd_mean = 0.0
cvd_std = 50000.0
z_score = (cvd_5m - cvd_mean) / cvd_std
threshold = 1.0
confidence = min(abs(z_score) / 3.0, 0.99)
```
**é—®é¢˜**ï¼š
- âœ… é€»è¾‘æ­£ç¡®ï¼šZ-Score æ ‡å‡†åŒ–
- âš ï¸ **æ ‡å‡†å·®å›ºå®š**ï¼š50000 æ˜¯ç»éªŒå€¼ï¼Œå¯èƒ½ä¸å‡†ç¡®
- âš ï¸ **å»ºè®®**ï¼šåŠ¨æ€è®¡ç®—å†å² CVD çš„æ ‡å‡†å·®

---

### âœ… 15. ä»·æ ¼è¶‹åŠ¿è§„åˆ™ - Price Trend 5
**è®¡ç®—é€»è¾‘**ï¼š
```python
recent = price_history[-(period+1):]
trend_pct = (recent[-1] - recent[0]) / recent[0] * 100
threshold = 0.3
confidence = min(abs(trend_pct) / 2.0, 0.99)
```
**é—®é¢˜**ï¼š
- âœ… é€»è¾‘æ­£ç¡®ï¼š5 å‘¨æœŸè¶‹åŠ¿
- âœ… é˜ˆå€¼åˆç†ï¼š0.3% é˜ˆå€¼
- âœ… ç½®ä¿¡åº¦è®¡ç®—ï¼š2% ä¸ºæ»¡åˆ†

---

### âœ… 16. äº¤æ˜“å¼ºåº¦è§„åˆ™ - Trading Intensity
**è®¡ç®—é€»è¾‘**ï¼š
```python
cvd_1m = oracle.get('cvd_1m', 0.0)
cvd_5m = oracle.get('cvd_5m', 0.0)
intensity_ratio = abs(cvd_1m) / max(abs(cvd_5m), 1)
direction = 'LONG' if cvd_1m > 0 else 'SHORT'
confidence = min(intensity_ratio / 0.5, 0.99)
```
**é—®é¢˜**ï¼š
- âœ… é€»è¾‘æ­£ç¡®ï¼š1m CVD ç›¸å¯¹äº 5m CVD çš„å¼ºåº¦
- âœ… é˜ˆå€¼åˆç†ï¼šéœ€è¦ 1m CVD > 10k ä¸” 5m CVD > 30k
- âœ… ç½®ä¿¡åº¦è®¡ç®—ï¼šå¼ºåº¦æ¯”ç‡ 0.5 ä¸ºæ»¡åˆ†

---

### âœ… 17. PM YES è§„åˆ™
**è®¡ç®—é€»è¾‘**ï¼š
```python
if price > 0.70:
    direction = 'LONG'
    confidence = (price - 0.70) / 0.30
elif price < 0.30:
    direction = 'SHORT'
    confidence = (0.30 - price) / 0.30
```
**é—®é¢˜**ï¼š
- âœ… é€»è¾‘æ­£ç¡®ï¼šYES ä»·æ ¼é«˜åšå¤šï¼Œä½åšç©º
- âœ… é˜ˆå€¼åˆç†ï¼š0.70/0.30 æ˜¯æç«¯åŒºé—´
- âœ… ç½®ä¿¡åº¦è®¡ç®—ï¼šçº¿æ€§æ˜ å°„

---

### âœ… 18. ç»¼åˆåå·®åˆ†æ•°è§„åˆ™ - Bias Score
**è®¡ç®—é€»è¾‘**ï¼š
```python
bias = 0.0
# RSI åå·®ï¼ˆæƒé‡ 2.0ï¼‰
if rsi > 50:
    bias += (rsi - 50) / 50.0 * 2.0
elif rsi < 50:
    bias -= (50 - rsi) / 50.0 * 2.0

# VWAP åç¦»ï¼ˆæƒé‡ 1.5ï¼‰
vwap_dev_pct = ((price - vwap) / vwap) * 100
vwap_bias = max(-1.0, min(1.0, vwap_dev_pct / 5.0))
bias += vwap_bias * 1.5

# ä»·æ ¼åŠ¨é‡ï¼ˆæƒé‡ 1.0ï¼‰
momentum = (recent[-1] - recent[0]) / recent[0] * 100
momentum_bias = max(-1.0, min(1.0, momentum / 3.0))
bias += momentum_bias * 1.0

bias_score = bias / factors
threshold = 0.5
confidence = min(abs(bias_score) / 2.0, 0.99)
```
**é—®é¢˜**ï¼š
- âœ… é€»è¾‘æ­£ç¡®ï¼šç»¼åˆå¤šä¸ªæŒ‡æ ‡çš„åå·®
- âœ… æƒé‡åˆç†ï¼šRSI 2.0, VWAP 1.5, åŠ¨é‡ 1.0
- âœ… ç½®ä¿¡åº¦è®¡ç®—ï¼š2.0 ä¸ºæ»¡åˆ†

---

## ğŸ”´ å‘ç°çš„é—®é¢˜æ€»ç»“

### ä¸¥é‡é—®é¢˜ï¼ˆéœ€è¦ä¿®å¤ï¼‰

1. **åŠ¨é‡åŠ é€Ÿåº¦è§„åˆ™**ï¼šè®¡ç®—å…¬å¼é”™è¯¯
   - å½“å‰ï¼š`accel_1 = (mom_60 - mom_30) / 30.0`
   - åº”è¯¥ï¼š`accel_1 = mom_60 - mom_30`

2. **MACD æŸ±çŠ¶å›¾è§„åˆ™**ï¼šä¿¡å·çº¿è®¡ç®—é”™è¯¯
   - å½“å‰ï¼š`signal_line = macd_line * 0.8`ï¼ˆé”™è¯¯ç®€åŒ–ï¼‰
   - åº”è¯¥ï¼šä¿¡å·çº¿æ˜¯ MACD çº¿çš„ 9 å‘¨æœŸ EMA

3. **æ³¢åŠ¨ç‡åˆ¶åº¦è§„åˆ™**ï¼šé€»è¾‘æ··ä¹±
   - æ³¢åŠ¨ç‡é«˜ â†’ ç½®ä¿¡åº¦é«˜ï¼Œä½†æ–¹å‘åŸºäºåŠ¨é‡
   - å»ºè®®ï¼šæ³¢åŠ¨ç‡åªä½œä¸ºè¿‡æ»¤å™¨ï¼Œä¸ç›´æ¥äº§ç”Ÿæ–¹å‘

### è½»å¾®é—®é¢˜ï¼ˆå¯é€‰ä¼˜åŒ–ï¼‰

4. **Delta Z-Score è§„åˆ™**ï¼šæ ‡å‡†å·®å›ºå®šä¸º 50000
   - å»ºè®®ï¼šåŠ¨æ€è®¡ç®—å†å² CVD çš„æ ‡å‡†å·®

5. **Session Memory è§„åˆ™**ï¼šä¾èµ–å¤–éƒ¨æ¨¡å—
   - å¦‚æœ session_memory æœªåˆå§‹åŒ–ï¼Œä¼šè¿”å› None

---

## âœ… å»ºè®®ä¿®å¤

éœ€è¦æˆ‘å¸®ä½ ä¿®å¤è¿™äº›é—®é¢˜å—ï¼Ÿä¸»è¦æ˜¯ï¼š
1. ä¿®å¤åŠ¨é‡åŠ é€Ÿåº¦è®¡ç®—
2. ä¿®å¤ MACD ä¿¡å·çº¿è®¡ç®—
3. ä¼˜åŒ–æ³¢åŠ¨ç‡åˆ¶åº¦é€»è¾‘

---

**æ£€æŸ¥æ—¥æœŸ**ï¼š2026-03-02 00:01  
**æ£€æŸ¥äºº**ï¼šClaude (OpenClaw)
